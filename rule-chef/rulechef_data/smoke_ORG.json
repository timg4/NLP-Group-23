{
  "name": "smoke_ORG",
  "task": {
    "name": "extract_ORG",
    "description": "Extract ONLY ORG (organizations: companies, banks, authorities, institutions).\nHARD RULES:\n- Do NOT extract generic capitalized noun phrases (German capitalizes nouns).\n- Prefer organizations with legal forms/keywords: GmbH, AG, SE, KG, OHG, KGaA, e.V., Stiftung,\n  Bank, Sparkasse, Versicherung, Holding, Gruppe, Ministerium, Amt, Beh\u00f6rde.\n- Abbreviations (2\u20135 caps) are ORG ONLY if they are known organizations or occur with an org keyword nearby.\n- Never return a span that starts at character 0 unless it is clearly the org name.\nReturn character offsets into the ORIGINAL context.\n",
    "input_schema": {
      "text": "string"
    },
    "output_schema": {
      "spans": "List[Span]"
    },
    "type": "extraction"
  },
  "description": "",
  "examples": [
    {
      "id": "5ddfa8a1",
      "input": {
        "context": "Nicht anwendbar Berechnungsstelle: UniCredit Bank AG, Apianstr."
      },
      "expected_output": {
        "spans": [
          {
            "text": "UniCredit Bank AG",
            "start": 35,
            "end": 52
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "57409ab7",
      "input": {
        "context": "Euro MTF (der b\u00f6rsenregulierte Markt der Luxemburger Wertpapierb\u00f6rse)"
      },
      "expected_output": {
        "spans": [
          {
            "text": "Euro MTF",
            "start": 0,
            "end": 8
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "b50df4d0",
      "input": {
        "context": "Gesch\u00e4ftstag nach dem ersten Tag dieser Ver\u00f6ffentlichung des Nichtstattfindens einer Auktion, oder (iii) falls ISDA-Kreditereignis-Informationen ver\u00f6ffentlicht worden sind und ISDA auf der Internetseite http://dc.isda.org/credit-default-swaps-management/ (oder eine diese ersetzende Seite) ank\u00fcndigt, in dem Hinblick auf das in der Kreditereignis-Mitteilung genannte Kreditereignis eine Auktion durchzuf\u00fchren, dann jedoch auf dieser Seite ver\u00f6ffentlicht, dass diese Auktion abgesagt wird, den 10."
      },
      "expected_output": {
        "spans": [
          {
            "text": "ISDA",
            "start": 111,
            "end": 115
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "7c4432e7",
      "input": {
        "context": "Diese Endg\u00fcltigen Bedingungen wurden f\u00fcr die Zwecke des Artikels 5 Absatz 4 der EU-Prospektrichtlinie (Richtlinie 2003/71/EG), in ihrer jeweils g\u00fcltigen Fassung, \u201eProspektrichtlinie\u201c) abgefasst und sind in Verbindung mit dem Basisprospekt unter dem Debt Issuance Programme der DekaBank Deutsche Girozentrale von dem 11."
      },
      "expected_output": {
        "spans": [
          {
            "text": "DekaBank Deutsche Girozentrale",
            "start": 277,
            "end": 307
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "90adc7ea",
      "input": {
        "context": "Dezember 2013 endende Gesch\u00e4ftsjahr der DZ BANK entnommen wurden."
      },
      "expected_output": {
        "spans": [
          {
            "text": "DZ BANK",
            "start": 40,
            "end": 47
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "96977845",
      "input": {
        "context": "Die Deka-Gruppe ist das Wertpapierhaus der Sparkassen."
      },
      "expected_output": {
        "spans": [
          {
            "text": "Sparkassen",
            "start": 43,
            "end": 53
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "e186f502",
      "input": {
        "context": "In the Bank sector of the DZ BANK Group, equity investment risk arises primarily at DZ BANK, BSH and DVB. - Market risk comprises market risk in the narrow sense of the term, and market liquidity risk."
      },
      "expected_output": {
        "spans": [
          {
            "text": "DZ BANK Group",
            "start": 26,
            "end": 39
          },
          {
            "text": "DZ BANK",
            "start": 84,
            "end": 91
          },
          {
            "text": "BSH",
            "start": 93,
            "end": 96
          },
          {
            "text": "DVB.",
            "start": 101,
            "end": 105
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "dd98c141",
      "input": {
        "context": "Anlagen in Anteilen von OGA oder OGAW .................................................................................. 144 16."
      },
      "expected_output": {
        "spans": [
          {
            "text": "OGA",
            "start": 24,
            "end": 27
          },
          {
            "text": "OGAW",
            "start": 33,
            "end": 37
          }
        ]
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "3c848f48",
      "input": {
        "context": "Summaries are made up of disclosure requirements known as \"Elements\"."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "f492b735",
      "input": {
        "context": "Die Kursentwicklung des jeweiligen Korbbestandteilsi entspricht dem Quotienten aus Ki (final) (wie in C.19 definiert) und Ki (initial)."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "d3fbc25e",
      "input": {
        "context": "Mai 2023 0,20 % 31."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "ea62b800",
      "input": {
        "context": "B.2 Sitz / Rechtsform / geltendes Recht / Land der Die Bank hat ihre Sitze in Frankfurt an dem Main und Erfurt."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "aa713836",
      "input": {
        "context": "November 2017 in Bezug auf die Zulassung von unter dem Emissionsprogramm f\u00fcr Inhaberschuldverschreibungen II begebenen Schuldverschreibungen."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "371b7bbe",
      "input": {
        "context": "9"
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "6e722b88",
      "input": {
        "context": "Diese enthalten besondere Beschreibungen der Regelungen, die zu einer vorzeitigen Beendigung der Laufzeit der Schuldverschreibungen f\u00fchren k\u00f6nnen."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    },
    {
      "id": "c4ba928c",
      "input": {
        "context": "solche Sicherheiten oder Garantien werden auch zu keinem sp\u00e4teren Zeitpunkt gestellt werden."
      },
      "expected_output": {
        "spans": []
      },
      "source": "human",
      "confidence": 0.8
    }
  ],
  "corrections": [],
  "feedback": [],
  "rules": [
    {
      "id": "edf89bd9",
      "name": "Extract organizations with legal forms",
      "description": "This rule extracts organizations that include specific legal forms or keywords indicating they are organizations.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+(?:\\s[A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)*(?:\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))(?!\\w))",
      "priority": 10,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "12356ea8",
      "name": "Extract known abbreviations as organizations",
      "description": "This rule extracts known abbreviations as organizations when they are accompanied by relevant keywords.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z]{2,5})(?=\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))",
      "priority": 9,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "da73d26c",
      "name": "Avoid generic capitalized nouns",
      "description": "This rule prevents the extraction of generic capitalized nouns that are not organizations.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)(?!\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))",
      "priority": 8,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "28b2a35e",
      "name": "Extract organizations not starting at character 0",
      "description": "This rule ensures that spans do not start at character 0 unless they are clearly the organization name.",
      "format": "code",
      "content": "def extract(input_data):\n    import re\n    spans = []\n    text = input_data['text']\n    pattern = r'(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+(?:\\s[A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)*(?:\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))(?!\\w))'\n    for match in re.finditer(pattern, text):\n        if match.start() > 0:\n            spans.append({'text': match.group(0), 'start': match.start(), 'end': match.end()})\n    return spans",
      "priority": 7,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "a3f8c580",
      "name": "Extract organizations with abbreviations nearby",
      "description": "This rule captures organizations that may have abbreviations nearby, ensuring they are recognized as part of the organization.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z]{2,5})\\s+([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+(?:\\s[A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)*(?:\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))(?!\\w))",
      "priority": 6,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "24b721df",
      "name": "Handle multiple organizations in a single context",
      "description": "This rule ensures that multiple organizations within a single context are extracted correctly.",
      "format": "code",
      "content": "def extract(input_data):\n    import re\n    spans = []\n    text = input_data['text']\n    pattern = r'(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+(?:\\s[A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)*(?:\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))(?!\\w))'\n    for match in re.finditer(pattern, text):\n        if match.start() > 0:\n            spans.append({'text': match.group(0), 'start': match.start(), 'end': match.end()})\n    return spans",
      "priority": 5,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.509080"
    },
    {
      "id": "7f1e0c76",
      "name": "Extract organizations with common abbreviations",
      "description": "This rule captures organizations that are commonly known by their abbreviations.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z]{2,5})(?=\\s(?:Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))",
      "priority": 3,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.524908"
    },
    {
      "id": "5de240a1",
      "name": "Filter out non-organization capitalized nouns",
      "description": "This rule filters out capitalized nouns that do not represent organizations.",
      "format": "regex",
      "content": "(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)(?!\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))",
      "priority": 2,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.524908"
    },
    {
      "id": "29172177",
      "name": "Ensure valid organization extraction",
      "description": "This rule ensures that only valid organizations are extracted based on the defined criteria.",
      "format": "code",
      "content": "def extract(input_data):\n    import re\n    spans = []\n    text = input_data['text']\n    pattern = r'(?<!\\w)([A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+(?:\\s[A-Z\u00c4\u00d6\u00dc][a-z\u00e4\u00f6\u00fc\u00df]+)*(?:\\s(?:GmbH|AG|SE|KG|OHG|KGaA|e.V.|Stiftung|Bank|Sparkasse|Versicherung|Holding|Gruppe|Ministerium|Amt|Beh\u00f6rde))(?!\\w))'\n    for match in re.finditer(pattern, text):\n        if match.start() > 0:\n            spans.append({'text': match.group(0), 'start': match.start(), 'end': match.end()})\n    return spans",
      "priority": 1,
      "confidence": 0.5,
      "times_applied": 0,
      "successes": 0,
      "failures": 0,
      "created_at": "2026-01-13T01:19:41.524908"
    }
  ],
  "version": 1
}